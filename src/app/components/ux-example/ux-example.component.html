<div class="home" routerLink="/home">
    <mat-icon>chevron_left</mat-icon>
    <span>Home</span>
</div>

<div class="main-container">
    <section class="image-container">
        <img src="../assets/caravan.jpg" alt="">
        <div class="title"><span class="book">Book</span> Your Caravan</div>
    </section>

    <section class="form-container">
        <form [formGroup]="form" (submit)="submit()" class="form">
            
            <aside>
                <div class="subtitle">Time Selection</div>
            </aside>

            <mat-form-field appearance="outline">
                <mat-label>Start Date</mat-label>
                <input matInput [max]="form.value.endDate" [matDatepicker]="startDatePicker" formControlName="startDate"  (dateChange)="dateChange()">
                <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                <mat-datepicker #startDatePicker></mat-datepicker>
            </mat-form-field>
        
            <mat-form-field appearance="outline">
                <mat-label>End Date</mat-label>
                <input matInput [min]="form.value.startDate" [matDatepicker]="endDatePicker" formControlName="endDate" (dateChange)="dateChange()">
                <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                <mat-datepicker #endDatePicker></mat-datepicker>
            </mat-form-field>
        
            <div class="selected-slot" *ngIf="booking > 0">
                <div class="slot">
                    <div class="circle circle--full"><span class="border-span"></span></div>
                    <span class="date">{{ form.value.startDate | date : "fullDate" }}</span>
                </div>

                <div class="slot">
                    <div class="circle circle--empty"><span class="border-span"></span></div>
                    <span class="day">{{ booking > 1 ? booking + ' days' : booking + ' day' }}</span>
                </div>

                <div class="slot">
                    <div class="circle circle--empty"><span class="border-span"></span></div>
                    <span class="date">{{ form.value.endDate | date : "fullDate" }}</span>
                </div>
            </div>

            <aside>
                <div class="subtitle">Personal Details</div>
            </aside>
        
            <mat-form-field appearance="outline">
                <mat-label>First Name</mat-label>
                <input matInput type="text" placeholder="First Name" formControlName="firstName">
            </mat-form-field>
        
            <mat-form-field appearance="outline">
                <mat-label>Last Name</mat-label>
                <input matInput type="text" placeholder="Last Name" formControlName="lastName">
            </mat-form-field>
        
            <mat-form-field appearance="outline">
                <mat-label>Address</mat-label>
                <input matInput type="text" placeholder="Address" formControlName="address">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>City</mat-label>
                <input matInput type="text" placeholder="City" formControlName="city">
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Postcode</mat-label>
                <input matInput type="text" placeholder="Postcode" formControlName="postcode">
            </mat-form-field>
        
            <aside>
                <div class="subtitle">Contact Information</div>
            </aside>

            <mat-form-field appearance="outline">
                <mat-label>Email Address</mat-label>
                <input matInput type="email" required placeholder="Email Address" formControlName="email">
                <mat-error>Email Address must be provided.</mat-error>
            </mat-form-field>
    
            <app-phone-number (changed)="mobileChanged($event)"></app-phone-number>
        
            <mat-checkbox formControlName="confirmation" class="my-4">
                Confirmation of Marketing terms of Business
            </mat-checkbox>
        
            <button mat-raised-button type="submit">BOOK</button>
        </form>
    </section>    
</div>

<footer>
    <a href='https://www.freepik.com/vectors/people'>People vector created by stories - www.freepik.com</a>
</footer>